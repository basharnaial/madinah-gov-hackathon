import{d as C,C as A,q as M,s as v,r as y,c as l,a as t,v as V,x as p,l as f,y as j,p as b,t as x,D as B,A as S,j as k,i as L,w as z,k as D,B as N,o as n,_ as U}from"./index-4GZd612C.js";import{a as q}from"./api-D0AU6Wcj.js";const T={class:"min-h-screen bg-gradient-to-br from-secondary-500 to-secondary-300 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},I={class:"max-w-md w-full space-y-8"},E={key:0,class:"mt-1 text-sm text-red-500"},F={class:"relative"},H=["type"],O={key:0,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},P={key:1,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},R={key:0,class:"mt-1 text-sm text-red-500"},$={class:"flex items-center justify-between"},G={class:"flex items-center"},J=["disabled"],K={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Q={class:"text-center"},W=C({__name:"AdminLogin",setup(X){const g=N(),w=A(),u=M(),o=v({email:"",password:"",remember:!1}),s=v({email:"",password:""}),i=y(!1),d=y(!1);function h(){return s.email="",s.password="",o.email?o.password?!0:(s.password="كلمة المرور مطلوبة",!1):(s.email="البريد الإلكتروني مطلوب",!1)}async function _(){var c,e,m,r;if(h()){i.value=!0;try{const a=await q.adminLogin(o);a.success&&a.data?(w.setAdmin(a.data.admin),w.setToken(a.data.token),u.showAlert("success","تم تسجيل الدخول بنجاح"),g.push("/admin/dashboard")):u.showAlert("error",a.message||"فشل في تسجيل الدخول")}catch(a){(e=(c=a.response)==null?void 0:c.data)!=null&&e.errors&&Object.assign(s,a.response.data.errors),u.showAlert("error",((r=(m=a.response)==null?void 0:m.data)==null?void 0:r.message)||"حدث خطأ أثناء تسجيل الدخول")}finally{i.value=!1}}}return(c,e)=>{const m=D("router-link");return n(),l("div",T,[t("div",I,[e[11]||(e[11]=t("div",{class:"text-center"},[t("h2",{class:"text-3xl font-bold text-primary-500"},"تسجيل دخول المدير"),t("p",{class:"mt-2 text-gray-600"},"أدخل بيانات الدخول الخاصة بك")],-1)),t("form",{onSubmit:V(_,["prevent"]),class:"card space-y-6"},[t("div",null,[e[4]||(e[4]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," البريد الإلكتروني ",-1)),p(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>o.email=r),type:"email",required:"",class:b(["input",{"border-red-500":s.email}]),placeholder:"أدخل بريدك الإلكتروني"},null,2),[[j,o.email]]),s.email?(n(),l("p",E,x(s.email),1)):f("",!0)]),t("div",null,[e[7]||(e[7]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," كلمة المرور ",-1)),t("div",F,[p(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>o.password=r),type:d.value?"text":"password",required:"",class:b(["input pr-10",{"border-red-500":s.password}]),placeholder:"أدخل كلمة المرور"},null,10,H),[[B,o.password]]),t("button",{type:"button",onClick:e[2]||(e[2]=r=>d.value=!d.value),class:"absolute inset-y-0 left-0 pr-3 flex items-center"},[d.value?(n(),l("svg",O,e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)]))):(n(),l("svg",P,e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])))])]),s.password?(n(),l("p",R,x(s.password),1)):f("",!0)]),t("div",$,[t("div",G,[p(t("input",{id:"remember","onUpdate:modelValue":e[3]||(e[3]=r=>o.remember=r),type:"checkbox",class:"h-4 w-4 text-accent-500 focus:ring-accent-500 border-gray-300 rounded"},null,512),[[S,o.remember]]),e[8]||(e[8]=t("label",{for:"remember",class:"mr-2 block text-sm text-gray-700"}," تذكرني ",-1))])]),t("div",null,[t("button",{type:"submit",disabled:i.value,class:"btn btn-primary w-full"},[i.value?(n(),l("svg",K,e[9]||(e[9]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):f("",!0),k(" "+x(i.value?"جاري تسجيل الدخول...":"تسجيل الدخول"),1)],8,J)]),t("div",Q,[L(m,{to:"/",class:"text-sm text-accent-500 hover:text-accent-600"},{default:z(()=>e[10]||(e[10]=[k(" العودة للصفحة الرئيسية ")])),_:1,__:[10]})])],32)])])}}}),ee=U(W,[["__scopeId","data-v-95aaa57b"]]);export{ee as default};
